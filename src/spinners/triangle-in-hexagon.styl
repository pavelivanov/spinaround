@import "../mixins/triangle-in-hexagon"


$sod-triangle-in-hexagon--animation-speed                 = 3s
$sod-triangle-in-hexagon--triangle-container-width        = 104px
$sod-triangle-in-hexagon--triangle-height                 = $sod-triangle-in-hexagon--triangle-container-width / 2
$sod-triangle-in-hexagon--triangle-edge-size              = floor($sod-triangle-in-hexagon--triangle-container-width / math(3, 'sqrt'))
$sod-triangle-in-hexagon--triangle-container-height       = 2 * $sod-triangle-in-hexagon--triangle-edge-size

// cos(30deg) between edge and X
$sod-triangle-in-hexagon--triangle-container-margin-left  = floor(-1 * $sod-triangle-in-hexagon--triangle-edge-size * math(3, 'sqrt') / 4)
// cos(60deg) between edge and Y
$sod-triangle-in-hexagon--triangle-container-margin-top   = -1 * $sod-triangle-in-hexagon--triangle-edge-size / 4


@keyframes sod-triangle-in-hexagon--keyframe--rotate-hexagon
  0%
    margin $sod-triangle-in-hexagon--triangle-container-margin-top 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left
    transform: rotate(30deg)
  16.666%
    margin $sod-triangle-in-hexagon--triangle-container-margin-top + 30px 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left + 0
    transform: rotate(-30deg)
  33.333%
    margin $sod-triangle-in-hexagon--triangle-container-margin-top + 45px 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left + 26px
    transform: rotate(-90deg)
  49.999%
    margin $sod-triangle-in-hexagon--triangle-container-margin-top + 30px 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left + 52px
    transform: rotate(-150deg)
  66.666%
    margin $sod-triangle-in-hexagon--triangle-container-margin-top + 0 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left + 52px
    transform: rotate(-210deg)
  83.333%
    margin $sod-triangle-in-hexagon--triangle-container-margin-top + -15px 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left + 26px
    transform: rotate(-270deg)
  100%
    margin $sod-triangle-in-hexagon--triangle-container-margin-top 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left
    transform: rotate(-330deg)


@keyframes sod-triangle-in-hexagon--keyframe--rotate-triangle
  100%
    transform: rotateX(180deg)


.sod-triangle-in-hexagon
  size 0
  margin $sod-triangle-in-hexagon--triangle-container-margin-top 0 0 $sod-triangle-in-hexagon--triangle-container-margin-left
  position: relative
  user-select none
  transform rotate(30deg)
  animation sod-triangle-in-hexagon--keyframe--rotate-hexagon $sod-triangle-in-hexagon--animation-speed steps(1) infinite
  &:after
    content ''
    display: block
    border-bottom $sod-triangle-in-hexagon--triangle-height solid #333
    border-left ($sod-triangle-in-hexagon--triangle-edge-size / 2) solid transparent
    border-right ($sod-triangle-in-hexagon--triangle-edge-size / 2) solid transparent
    absolute top 0 left 50%
    margin-left: -($sod-triangle-in-hexagon--triangle-edge-size / 2)
    margin-top: -1 * $sod-triangle-in-hexagon--triangle-height
    transform: rotateX(0deg)
    transform-origin 50% 100%
    animation sod-triangle-in-hexagon--keyframe--rotate-triangle ($sod-triangle-in-hexagon--animation-speed / 6) linear infinite
